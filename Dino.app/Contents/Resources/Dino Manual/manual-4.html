<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="manual.css" CHARSET="ISO-8859-1" TYPE="text/css">
<TITLE> 4 Scene and GUI</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=3 WIDTH="100%" BGCOLOR="#FFFF99" NOSAVE >
<tr VALIGN=CENTER NOSAVE>
<td VALIGN=CENTER NOSAVE><b><tt><font size=-1><a href="http://www.bioz.unibas.ch/~xray/dino">DINO:
Visualizing Structural Biology</a></font></tt></b></td>

<td VALIGN=CENTER NOSAVE>
<table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE >
<tr ALIGN=CENTER VALIGN=CENTER NOSAVE>
<td NOSAVE>
<center><A HREF="manual.html">Table of Contents</a></center>
</td>

<td NOSAVE>
<center><A HREF="manual-3.html">Previous</a></center>
</td>

<td>
<center><A HREF="manual-5.html">Next</a></center>
</td>
</tr>
</table>
</td>

<td VALIGN=CENTER NOSAVE>
<div align=right><b><tt><font size=-1>User Manual</font></tt></b></div>
</td>
</tr>
</table>

<H2 CLASS="Heading1">
<A NAME="pgfId-425121"></A>4 Scene and GUI</H2>
<P CLASS="Body">
<A NAME="pgfId-425122"></A>The expression scene refers to the contents of the main graphics window. In this section, interaction with the graphics window using the mouse and other input devices will be explained as well as the scene commands which allow customization of the global graphical properties. In addition, the (slim) graphical user interface will be discussed.</P>
<DIV>
<H3 CLASS="Heading2">
<A NAME="pgfId-425123"></A>4.1 Scene Interaction</H3>
<P CLASS="Body">
<A NAME="pgfId-425124"></A>The viewpoint (camera position) can be interactively changed. DINO supports a number of input devices. Each input device can be characterized as having one or more axis, zero or more buttons and a combination of keyboard modifiers (SHIFT, CTRL, ALT) pressed.<A HREF="#pgfId-428315" CLASS="footnote">1</A>  The following input devices are supported:</P>
<DIV>
<H4 CLASS="Heading5">
<A NAME="pgfId-425125"></A>mouse</H4>
<P CLASS="Body">
<A NAME="pgfId-425126"></A>The mouse has two axis (left-right and up-down) and is expected to have three buttons (left, middle, right). The right button is reserved for the context-sensitive submenu (<A HREF="manual-4.html#29987" CLASS="XRef">see &quot;4.12 The GUI&quot; on page 20</A>). </P>
<P CLASS="Body">
<A NAME="pgfId-425127"></A>Clicking<A HREF="#pgfId-428328" CLASS="footnote">2</A>  on an atom with the left mouse-button will 'select' this atom:</P>
<UL>

<LI CLASS="UList">
<A NAME="pgfId-430834"></A>The name of the atom is displayed in the status bar (bottom of graphics window)</LI>
<LI CLASS="UList">
<A NAME="pgfId-430835"></A>Its name is stored in the shell variable CS (for Current Selection) and at the same time is pushed onto the scene stack (see below).</LI>
</UL>

<P CLASS="Body">
<A NAME="pgfId-430838"></A>Additionally, if SHIFT is pressed while clicking the atom, the atom label will toggle (first click show, second click hide ...). Depressing the left mouse-button longer than necessary for a click will no longer count as a click but as pressed. <A HREF="manual-4.html#91773" CLASS="XRef">Table 2 (P. 13)</A> shows the default mouse settings.</P>
<TABLE BORDER="1">
<CAPTION>

<A NAME="pgfId-428369"></A><A NAME="91773"></A>Mouse Mappings in Scene window
</CAPTION>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428341"></A>combination</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428343"></A>function</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-428345"></A>LeftButton</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428347"></A>rotate around x and y</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-428349"></A>MiddleButton</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428351"></A>translate along z (slow and fast)</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-428353"></A>LeftButton + MiddleButton</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428355"></A>rotate around z</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-428357"></A>LeftButton + SHIFT</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428359"></A>translate along x and y</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-428361"></A>MiddleButton + SHIFT</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428363"></A>move slab along z</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-428365"></A>LeftButton + MiddleButton + SHIFT</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428367"></A>change slab width</P>
</TD>
</TR>
</TABLE>
</DIV>
<DIV>
<H4 CLASS="Heading5">
<A NAME="pgfId-430918"></A>&nbsp;</H4>
</DIV>
<DIV>
<H4 CLASS="Heading5">
<A NAME="pgfId-430925"></A>spaceball</H4>
<TABLE BORDER="1">
<CAPTION>

<A NAME="pgfId-430899"></A><A NAME="38104"></A>Dialbox Mappings in Scene window
</CAPTION>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430903"></A>slab width</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430905"></A>slab translate</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430907"></A>rotate z</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430909"></A>translate z</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430911"></A>rotate y</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430913"></A>translate y</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430915"></A>rotate x</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430917"></A>translate x</P>
</TD>
</TR>
</TABLE>
<P CLASS="Body">
<A NAME="pgfId-430919"></A>A spaceball is a highly recommended, but slightly expensive input device that incorporates all six rotational and translational axis in one device. For exploring data, it is much more convenient than either the dialbox or the mouse. There is a spaceball that works on linux<A HREF="#pgfId-430922" CLASS="footnote">3</A>.</P>
</DIV>
<DIV>
<H4 CLASS="Heading5">
<A NAME="pgfId-425130"></A>&nbsp;</H4>
</DIV>
<DIV>
<H4 CLASS="Heading5">
<A NAME="pgfId-430926"></A>dialbox</H4>
<P CLASS="Body">
<A NAME="pgfId-425131"></A>A standard dialbox has 8 dials (equals 8 axis). Rotation around and translation along x,y and z are mapped to six of these dials. The remaining two manipulate the front and back clipping planes (slab). One translates the slab along z, the other changes its width. For the standard SGI dialbox the mappings are displayed in <A HREF="manual-4.html#38104" CLASS="XRef">Table 3 (P. 14)</A> (see also &quot;<TT CLASS="Code">
man dialwarp</TT>
&quot;).</P>
</DIV>
</DIV>
<DIV>
<H3 CLASS="Heading2">
<A NAME="pgfId-425136"></A>4.2  Writing a snapshot of the current scene</H3>
<P CLASS="Body">
<A NAME="pgfId-425137"></A>The scene command write will save the current scene to a file in a variety of formats.</P>
<PRE CLASS="Syntax"><A NAME="pgfId-425138"></A><EM>Syntax:</EM> [scene] write file.ext [-scale SCALE] [-accum N]</PRE>
<P CLASS="Body">
<A NAME="pgfId-425139"></A>Because of its frequent usage, an alias has been automatically created, so <TT CLASS="Code">
scene</TT>
 can be omitted. The format is guessed from the extensions:</P>
<P CLASS="Body">
<A NAME="pgfId-428471"></A>&nbsp;</P>
<TABLE BORDER="1">
<CAPTION>

<A NAME="pgfId-428490"></A>scene write output formats
</CAPTION>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428498"></A>extension</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428500"></A>description</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-428517"></A>.png</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428519"></A>standard PNG format, picture is an exact screen copy, usually smaller than TIFF file.</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-436038"></A>.tiff</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-436040"></A>standard TIFF format, picture is an exact screen copy</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430840"></A>.pov</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430842"></A>POVray (www.povray.org) output</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-428478"></A>.r3d</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428480"></A>Raster3D format<A HREF="#pgfId-430876" CLASS="footnote">4</A></P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-428482"></A>.ps</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428532"></A>PostScript format</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-428486"></A>.rgb</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428488"></A>SGIs RGB format, no longer supported in v0.8!</P>
</TD>
</TR>
</TABLE>
<P CLASS="List3">
<A NAME="pgfId-425143"></A><TT CLASS="Code">
.tiff</TT>
 &amp; <TT CLASS="Code">
.png</TT>
: The <TT CLASS="Code">
-scale</TT>
 and <TT CLASS="Code">
-accum</TT>
 parameters are only applicable to TIFF and PNG output <TT CLASS="Code">
-scale</TT>
 is either an absolut number or an expression in percent,designated by a percentage sign.    <TT CLASS="Code">
-accum</TT>
 will use the accumulation buffer to generate <TT CLASS="Code">
N</TT>
 images that are slightly offset from each other, causing an overall smoothing<A HREF="#pgfId-430858" CLASS="footnote">5</A>. Supported values for N are 1(off), 2, 3, 4, 5, 6, 8, 9, 12, 16. The images are generated with offline rendering through an X-Windows pixmap. Since the largest pixmap size is X-Windows implementation dependent and also depends on the amount of RAM, a huge output file might crash the X-Server. 2000x2000 should work in most cases.</P>
<P CLASS="List3">
<A NAME="pgfId-430860"></A><TT CLASS="Code">
.pov</TT>
: Persistance Of Vision is a powerful, generic raytracer. DINO writes two output files, one with extension <TT CLASS="Code">
.pov</TT>
 and one with extension <TT CLASS="Code">
.inc</TT>
. The <TT CLASS="Code">
.pov</TT>
 file is meant to be user-editeable and it contains the lighting, fog and viewpoint definition as well as variables to change object properties, i.e. the applied texture, transparency etc. Stereo pairs can be generated with the same POV output, the <TT CLASS="Code">
.pov</TT>
 file contains information about this. For more information, please refer to the POV tutorial on the DINO homepage.</P>
<P CLASS="List3">
<A NAME="pgfId-430855"></A><TT CLASS="Code">
.r3d</TT>
: Raster3D is another raytracing package, aimed specifically at protein structure. Note that Raster3D output does not preserve the perspective, so stereo pairs cannot be generated this way (see also scene set view below).</P>
<P CLASS="List3">
<A NAME="pgfId-430867"></A><TT CLASS="Code">
.ps</TT>
: PostScript Level 2 output, transparency is not supported, and smoothly shaded triangles are approximated by subdivision into smaller, unicolored triangles. This format is suitable for schematic line drawings.</P>
<PRE CLASS="Example"><A NAME="pgfId-425145"></A><EM>Example:</EM> write pict1.png -s 1000 -a 4
         write scene.pov</PRE>
</DIV>
<DIV>
<H3 CLASS="Heading2">
<A NAME="pgfId-425147"></A>4.3 Setting scene properties</H3>
<P CLASS="Body">
<A NAME="pgfId-425148"></A>The scene command <TT CLASS="Code">
set</TT>
 allows the modification of scene properties, while <TT CLASS="Code">
get</TT>
 retrieves them:</P>
<PRE CLASS="Syntax"><A NAME="pgfId-425149"></A>Syntax: scene set PV[,PV...]
        scene get P</PRE>
<P CLASS="Body">
<A NAME="pgfId-425151"></A>See <A HREF="manual-4.html#84055" CLASS="XRef">Table 5 (P. 16)</A> for a list of all scene properties.</P>
<TABLE BORDER="1">
<CAPTION>

<A NAME="pgfId-428552"></A><A NAME="84055"></A>Scene Properties
</CAPTION>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428602"></A>property</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428604"></A>explanation</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-428606"></A>default</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430940"></A>bg</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430942"></A>Background color. Accepts a colorname or an explicit {r,g,b} value</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430944"></A>black</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430946"></A>center</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430948"></A>Use with get to retrieve the current center of rotation.   Set the center of rotation with the shortcut scene center</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430950"></A>{0,0,0}</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430952"></A>depthc</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430954"></A>If this flag is true, depthcueing between the near and far clipping planes - modified with fogd - will be performed.</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430956"></A>true</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-431042"></A>dither</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431044"></A>boolean flag, if set will enable global dithering on displays with less than 24 bits of color buffer</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431046"></A>true</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430958"></A>eyedist</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430960"></A>This float denotes the occular distance for stereo projection</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430962"></A>150.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430964"></A>far</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430966"></A>z value of far clipping plane. This float should always be larger than 0 and always larger than near. Op can be =, += or -=</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430968"></A>1000.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430970"></A>fixz</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430972"></A> If this flag is true, the clipping planes will move along any z-translation</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430974"></A>true</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430976"></A>fogd</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430978"></A>Offset from fog to far clipping plane. Values are relative to (far-near) and can range from -1.0 to +1.0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430980"></A>0.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430982"></A>fov</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430984"></A>Field-of-view angle for perspective projection</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430986"></A>25 (degrees)</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430988"></A>mmat</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430990"></A>Current modelview matrix (rotation and translation in one 4x4  matrix). See examples below</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430992"></A>&nbsp;</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-430994"></A>near</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430996"></A>z value of near clipping plane. This float should always be larger than 0 and always smaller than far. You can use the operators  += and -= to increase/decrease the value instead of setting it explicitly with =</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-430998"></A>1.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-431000"></A>ortho</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431002"></A>Use this flag to activate an orthographic viewing matrix.   The aspect ratio is automatically determined from the window size</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431004"></A>no</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-431006"></A>persp</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431008"></A>Use this flag to activate a perspective viewing matrix with a field-of-view angle of fov. The aspect ratio is automatically determined from the window size</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431010"></A>yes</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-431012"></A>rot</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431014"></A>Current 3x3 rotation matrix</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431016"></A>identity</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-431030"></A>slabw</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431032"></A>Width of slab (distance netween near and far clipping plane)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431034"></A>999.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-431018"></A>trans</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431020"></A>Current translation vector as {x,y,z}</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431022"></A>{0,0, -100}</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-431024"></A>view</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431026"></A>This property can take any of the three values left, right,  center (default). view=left resp. view=right switch to the left  resp. right stereo viewpoint. This allows easy generation of stereo pictures (see example)</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431028"></A>center</P>
</TD>
</TR>
</TABLE>
<DIV>
<H4 CLASS="Heading5">
<A NAME="pgfId-428814"></A>Examples</H4>
<PRE CLASS="Code"><A NAME="pgfId-425167"></A><EM>white background</EM>
scene set bg=white</PRE>
<PRE CLASS="Code"><A NAME="pgfId-428870"></A><EM>generating stereo figures</EM>
scene set view=left // left view 
// increase -s number to get higher resolution
write l.png -s 1000
scene set view=right // right view 
write r.png -s 1000
scene set view=center 
// use montage or something to paste the two files l.png and r.png
// together, print them at a width of 13cm and you are done. I use
// the ImageMagick command: 
// montage +frame +label +shadow -geometry 100% 
//         -tile 2x1 l.png r.png s.png
// for cross-eyed stereo, swap left and right view</PRE>
<PRE CLASS="Code"><A NAME="pgfId-428871"></A><EM>writing the current orientation</EM> matrix
echo [scene get mmat] &gt; view 
// into file 'view' (e.g. to paste into a script)</PRE>
<PRE CLASS="Code"><A NAME="pgfId-428872"></A><EM>writing the current orientation - more 'sophisticated'</EM>
echo scene set mmat=[scene get mmat] &gt; view 
echo scene set near=[scene get near] &gt;&gt; view
echo scene set far=[scene get far] &gt;&gt; view
// after some commands, in new script, etc...
@view 
// restores orientation and clipping planes from file view!</PRE>
</DIV>
</DIV>
<DIV>
<H3 CLASS="Heading2">
<A NAME="pgfId-425193"></A>4.4 Stereo Mode</H3>
<P CLASS="Body">
<A NAME="pgfId-425194"></A>On graphics hardware that supports stereo viewing<A HREF="#pgfId-428888" CLASS="footnote">6</A> the scene command <TT CLASS="Code">
stereo</TT>
 will toggle between stereo and mono mode.</P>
<PRE CLASS="Syntax"><A NAME="pgfId-425195"></A><EM>Syntax:</EM> [scene] stereo</PRE>
<P CLASS="Body">
<A NAME="pgfId-425196"></A>Due to its frequent usage, an alias is automatically created so <TT CLASS="Code">
scene</TT>
 can be omitted. To force stereo off, use <TT CLASS="Code">
stereo off</TT>
 or <TT CLASS="Code">
mono,</TT>
 to force it on use <TT CLASS="Code">
stereo on</TT>
</P>
<PRE CLASS="Syntax"><A NAME="pgfId-431055"></A><EM>Syntax:</EM> [scene] stereo off
        [scene] mono
        [scene] stereo on</PRE>
<P CLASS="Body">
<A NAME="pgfId-425197"></A>Stereo hardware is a confusing and complicated chapter in its own. Please refer to the DINO homepage for machine specific problems and solutions.</P>
<P CLASS="Body">
<A NAME="pgfId-431047"></A>For cross-eyed stereo display - also called split-screen stereo - use the <TT CLASS="Code">
split</TT>
 command to toggle between split-screen and normal stereo. Note that while in split-screen mode, <TT CLASS="Code">
scene write</TT>
 will write out the left and right image into a single file.</P>
<PRE CLASS="Syntax"><A NAME="pgfId-431052"></A><EM>Syntax:</EM> scene split</PRE>
</DIV>
<DIV>
<H3 CLASS="Heading2">
<A NAME="pgfId-425198"></A>4.5 Manipulating the scene</H3>
<P CLASS="Body">
<A NAME="pgfId-425199"></A>As mentioned above, rotation, translation and slabbing can be controlled by input devices. There are also some commands for this purpose:</P>
<PRE CLASS="Syntax"><A NAME="pgfId-428900"></A><EM>Syntax:</EM> scene center {x,y,z}
        scene autoslab
        scene transx VALUE
        scene transy VALUE
        scene transz VALUE
        scene transm {x,y,z}
        scene rotx VALUE
        scene roty VALUE
        scene rotz VALUE
        scene rotm {{a,b,c},{d,e,f},{g,h,i}}
        scene reset</PRE>
<P CLASS="List3">
<A NAME="pgfId-425211"></A><TT CLASS="Code">
center</TT>
: The center of rotation is set with center. This is usually combined with a recursive subprompt in the form:</P>
<PRE CLASS="Example"><A NAME="pgfId-425212"></A><EM>Example:</EM> scene center [.ds] // center on dataset 
         scene center [.ds.obj] // center on the object</PRE>
<P CLASS="List3">
<A NAME="pgfId-428927"></A><TT CLASS="Code">
autoslab</TT>
: moves the near resp. far clipping plane exactly to the boundaries of the currently visible objects. </P>
<P CLASS="List3">
<A NAME="pgfId-431059"></A><TT CLASS="Code">
trans* rot*:</TT>
 translates along resp. rotates around the given axis, while the matrix version (<TT CLASS="Code">
transm</TT>
 / <TT CLASS="Code">
rotm</TT>
) applies a matrix to the current translation / rotation matrix<A HREF="#pgfId-428929" CLASS="footnote">7</A>. </P>
<P CLASS="List3">
<A NAME="pgfId-431062"></A><TT CLASS="Code">
reset</TT>
: returns the scene to its default state<A HREF="#pgfId-428954" CLASS="footnote">8</A>.</P>
<P CLASS="Body">
<A NAME="pgfId-428964"></A>&nbsp;</P>
<P CLASS="Body">
<A NAME="pgfId-431065"></A>The command <TT CLASS="Code">
grab</TT>
 will regain input from an input device (<A HREF="manual-4.html#23974" CLASS="XRef">see &quot;4.10 Input&quot; on page 20</A>).</P>
<PRE CLASS="Syntax"><A NAME="pgfId-425216"></A><EM>Syntax:</EM> scene grab INPUTDEVICE</PRE>
</DIV>
<DIV>
<H3 CLASS="Heading2">
<A NAME="pgfId-425217"></A>4.6 Current Point</H3>
<P CLASS="Body">
<A NAME="pgfId-431067"></A>Everytime the left mouse button is clicked in the graphics window, a single coordinate is stored in the shell variable <TT CLASS="Code">
$CP</TT>
. The position of the mouse alone can only determine two out of three coordinates components: one can envision an infinite line perpendicular to the screen going through the mouse pointer. <TT CLASS="Code">
$CP</TT>
 is determined by calculating the intersection of this line with the near and far clipping plane and then using the middle of these two point. This is useful when looking at scalar fields, e.g. electron density, with a small slab width: Click anywhere into the density and call <BR>
<TT CLASS="Code">
scene center [$CP]</TT>
.</P>
</DIV>
<DIV>
<H3 CLASS="Heading2">
<A NAME="pgfId-431066"></A>4.7 Scene Stack</H3>
<P CLASS="Body">
<A NAME="pgfId-425218"></A>The program maintains a history of the selection. Every time an atom is selected in the graphics window, its name is pushed onto the scene stack. Following are commands to manipulate this scene stack.</P>
<PRE CLASS="Syntax"><A NAME="pgfId-425219"></A><EM>Syntax:</EM> scene push ARG 
        scene pop 
        scene peek 
        scene clear</PRE>
<P CLASS="List3">
<A NAME="pgfId-425223"></A><TT CLASS="Code">
push</TT>
: pushes ARG onto the stack</P>
<P CLASS="List3">
<A NAME="pgfId-431068"></A><TT CLASS="Code">
pop</TT>
: retrieves the topmost value and removes it</P>
<P CLASS="List3">
<A NAME="pgfId-431069"></A><TT CLASS="Code">
peek</TT>
: returns the topmost value without removing it </P>
<P CLASS="List3">
<A NAME="pgfId-431072"></A><TT CLASS="Code">
clear</TT>
: erases the stack.</P>
<P CLASS="Body">
<A NAME="pgfId-431075"></A>Why would this be useful ? As an example: Distance measurement of two consecutively selected atoms:</P>
<PRE CLASS="Example"><A NAME="pgfId-425224"></A><EM>Example:</EM> push [[scene pop]]
         push [[scene pop]]
         opr - abs
         scene message Distance: [peek] Angstrom</PRE>
<P CLASS="Body">
<A NAME="pgfId-425228"></A>The first two lines retrieve the selected atoms from the scene stack with <TT CLASS="Code">
[scene pop]</TT>
 and insert the name of the atom in the line. Because this result is again embraced with <TT CLASS="Code">
[]</TT>
, it defaults to <TT CLASS="Code">
get xyz</TT>
 (see below). These coordinates are pushed onto the arithmetic shell stack, the difference is computed (<TT CLASS="Code">
opr -</TT>
)and then the length of the resulting vector (<TT CLASS="Code">
opr abs</TT>
). The result is <TT CLASS="Code">
peek</TT>
ed of the shell stack and displayed in the status bar of the graphics window. This is exactly how the command <TT CLASS="Code">
dist</TT>
 in the user menu is implemented.</P>
<P CLASS="Body">
<A NAME="pgfId-431076"></A>Another example: centering on the middle of two atoms consecutively selected atoms</P>
<PRE CLASS="Example"><A NAME="pgfId-431077"></A><EM>Example:</EM> push 0.5 [[scene pop]] [[scene pop]]
         opr + *
         scene center [pop]</PRE>
</DIV>
<DIV>
<H3 CLASS="Heading2">
<A NAME="pgfId-431092"></A>4.8 Lighting</H3>
<P CLASS="Body">
<A NAME="pgfId-431093"></A>DINO supports the use of up to 8 lightsources. They are addressed as</P>
<PRE CLASS="Syntax"><A NAME="pgfId-431094"></A><EM>Syntax:</EM> scene:lightn command [parameters]</PRE>
<P CLASS="Body">
<A NAME="pgfId-431095"></A>where n is a number from zero to seven. Following is a list of commands to modify the lightsource settings, refer also to <A HREF="manual-4.html#86351" CLASS="XRef">Table 6 (P. 19)</A> for light properties.</P>
<UL>

<LI CLASS="UList">
<A NAME="pgfId-431096"></A><TT CLASS="Code">
set get</TT>
: modify or retrieve light properties</LI>
<LI CLASS="UList">
<A NAME="pgfId-431097"></A><TT CLASS="Code">
on off</TT>
: shortcut for <TT CLASS="Code">
set on</TT>
 resp. <TT CLASS="Code">
set off</TT>
</LI>
<LI CLASS="UList">
<A NAME="pgfId-431098"></A><TT CLASS="Code">
local</TT>
: shortcut for <TT CLASS="Code">
set local</TT>
</LI>
<LI CLASS="UList">
<A NAME="pgfId-431099"></A><TT CLASS="Code">
global</TT>
: shortcut for <TT CLASS="Code">
set global</TT>
</LI>
<LI CLASS="UList">
<A NAME="pgfId-431100"></A><TT CLASS="Code">
show</TT>
: display information about light</LI>
</UL>

<P CLASS="Body">
<A NAME="pgfId-431101"></A>The lighting contribution to each vertex is calculated from the direction of the lightrays emitted by a lightsource. The lightrays of a directional lightsource are all parallel. With a positional lightsource, however, the direction of the lightrays is different for each relative position of vertex and lightsource. In real world terms, the sun can be considered a directional lightsource, while a lamp is a positional one.</P>
<P CLASS="Body">
<A NAME="pgfId-431102"></A>A global light is unaffected by the scene transformation, while a local light is rotated and translated along with the scene objects.</P>
<P CLASS="Body">
<A NAME="pgfId-431103"></A>Attenuation is only valid for positional lights. It mimics the dimming of the light in respect to distance from the lightsource using the following formula, where f is the factor applied to the light-contribution, d is the distance of the vertex to the lightsource and kc, kl and kq are the attenuation properties:</P>
<P CLASS="Body">

<PRE CLASS="Example"><A NAME="pgfId-431109"></A><EM>Example:</EM> // place a local, positional light at {0, 0, 10}
         // with a linear attenuation of 0.1
         scene:light1 set pos={0,0,10,1}, local, kl=0.1
         scene:light1 on</PRE>
<P CLASS="Body">
<A NAME="pgfId-431110"></A>For more information about lighting, please refer to an OpenGL manual (see reference section)</P>
<TABLE BORDER="1">
<CAPTION>

<A NAME="pgfId-431114"></A><A NAME="86351"></A>Light Properties
</CAPTION>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431120"></A>property</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431122"></A>explanation</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431124"></A>default light 0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434566"></A>default light 1-7</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-431126"></A>on off</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431128"></A>flag if light is on of off</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-431130"></A>on</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434568"></A>off</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434503"></A>local</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434505"></A>light position will move with the camera</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434507"></A>&nbsp;</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434570"></A>&nbsp;</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434497"></A>global</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434499"></A>light position is fixed</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434501"></A>X</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434572"></A>X</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434491"></A>pos</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434493"></A>vector is form {x,y,z,w}, where x,y and z are coordinates in space and w=0 denotes directional light and w=1 positional light</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434495"></A>{0.1,0.2,1.0,0.0}</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434574"></A>{0.0,0.0,1.0,0.0}</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434485"></A>amb</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434487"></A>ambient color contribution, can be given as scalar grayscale value or as color {r,g,b}</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434489"></A>0.05</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434576"></A>0.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434479"></A>diff</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434481"></A>diffuse color contribution, can be given as scalar grayscale value or as color {r,g,b}</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434483"></A>0.6</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434578"></A>1.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434473"></A>spec</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434475"></A>specular color contribution, can be given as scalar grayscale value or as color {r,g,b}</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434477"></A>0.3</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434580"></A>1.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434533"></A>kc</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434535"></A>constant attenuation factor</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434537"></A>1.0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434582"></A>1.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434527"></A>kl</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434529"></A>linear attenuation factor</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434531"></A>0.0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434584"></A>0.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434521"></A>kq</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434523"></A>quadratic attenuation factor</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434525"></A>0.0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434586"></A>0.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434554"></A>spotc</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434556"></A>spot cutoff angle (0 to 90), 180 means no spot</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434558"></A>180.0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434588"></A>180.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434548"></A>spote</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434550"></A>spot exponent</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434552"></A>0.0</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434590"></A>0.0</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434542"></A>spotd</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody">
<A NAME="pgfId-434544"></A>spot direction</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434546"></A>{0,0,-1}</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1">
<P CLASS="CellBody-Prop">
<A NAME="pgfId-434592"></A>{0,0,-1}</P>
</TD>
</TR>
</TABLE>
</DIV>
<DIV>
<H3 CLASS="Heading2">
<A NAME="pgfId-431141"></A>4.9 Arbitrary Clipping Planes</H3>
<P CLASS="Body">
<A NAME="pgfId-431161"></A>In addition to the front and back clipping planes, an arbitrary clipping plane can be turned on. A plane is defined by an origin (<TT CLASS="Code">
pos</TT>
) and the direction (<TT CLASS="Code">
dir</TT>
) of the plane normal</P>
<PRE CLASS="Syntax"><A NAME="pgfId-431163"></A><EM>Syntax:</EM> scene:clipN [on|off],[pos={x,y,z}],[dir={xn,yn,zn]
        scene:clipN grab DEVICE</PRE>
<P CLASS="Body">
<A NAME="pgfId-431164"></A><TT CLASS="Code">
N</TT>
 is the number of the clipping plane, currently only <TT CLASS="Code">
clip0</TT>
 is implemented. The position defaults to <TT CLASS="Code">
{0,0,0}</TT>
, the direction defaults to <TT CLASS="Code">
{0,0,1}</TT>
 A clipping plane can grab an input device to be rotated and translated arbitrarily (<A HREF="manual-4.html#23974" CLASS="XRef">see &quot;4.10 Input&quot; on page 20</A>).</P>
</DIV>
<DIV>
<H3 CLASS="Heading2">
<A NAME="pgfId-431155"></A>4.10 <A NAME="23974"></A>Input</H3>
<P CLASS="Body">
<A NAME="pgfId-431156"></A>As mentioned above, there are three input devices supported in DINO: mouse, dials and spaceball. Internally, there are two input 'tables' for each device, called <TT CLASS="Code">
mouse</TT>
 and <TT CLASS="Code">
mouse2</TT>
, <TT CLASS="Code">
dials</TT>
 and <TT CLASS="Code">
dials2</TT>
 and <TT CLASS="Code">
spaceball</TT>
 and <TT CLASS="Code">
spaceball2</TT>
. The <TT CLASS="Code">
*2</TT>
 version is activated when <TT CLASS="Code">
cntrl</TT>
 is held down on the keyboard. Why would this be useful ? Each dataset as well as the scene contain a <TT CLASS="Code">
grab</TT>
 command, which reroutes the input info from an input device to that dataset or the scene. After startup, all input is routed to the scene, causing the camera position to be modified. If an input is routed to a dataset, however, its rotation/translation is modified, effectively leading to a rigid body rotation within the global coordinate system. In a situation where dataset A has grabbed <TT CLASS="Code">
mouse</TT>
, the scene would still get input from <TT CLASS="Code">
mouse2</TT>
, so pressing <TT CLASS="Code">
cntrl</TT>
 while moving the mouse would cause a camera update and not a transformation of dataset A. This also applies to the dials and the spaceball.</P>
</DIV>
<DIV>
<H3 CLASS="Heading2">
<A NAME="pgfId-431148"></A>4.11 Odds and Ends</H3>
<P CLASS="Body">
<A NAME="pgfId-431142"></A>A string can be displayed in the status bar of the graphics window:</P>
<PRE CLASS="Syntax"><A NAME="pgfId-431143"></A><EM>Syntax:</EM> scene message MESSAGE</PRE>
<P CLASS="Body">
<A NAME="pgfId-431144"></A>The command <TT CLASS="Code">
spin</TT>
 will toggle spinning of the objects, i.e. the continuation of the last mouse-induced rotation. False per default.</P>
<PRE CLASS="Syntax"><A NAME="pgfId-431145"></A><EM>Syntax:</EM> scene spin</PRE>
<P CLASS="Body">
<A NAME="pgfId-431293"></A><TT CLASS="Code">
bench</TT>
 will continuously force screen updates and allows simple 'benchmarking' by displaying the fps in the status bar. Call <TT CLASS="Code">
bench</TT>
 again to turn off.</P>
<PRE CLASS="Syntax"><A NAME="pgfId-431088"></A><EM>Syntax:</EM> bench</PRE>
</DIV>
<DIV>
<H3 CLASS="Heading2">
<A NAME="pgfId-425232"></A>4.12 <A NAME="29987"></A>The GUI</H3>
<P CLASS="Body">
<A NAME="pgfId-425233"></A>The GUI in DINO is implemented only very rudimentary, a situation which will be improved upon as the program matures.</P>
<P CLASS="Body">
<A NAME="pgfId-425234"></A>What is present so far is an object menu, which appears as a second window after startup. It contains a button scene, and will fill itself when datasets are loaded and objects created. Left-clicking on an object name will toggle its display, while right-clicking on an object-name, dataset-name or scene will cause a (context sensitive) submenu to appear.</P>
<P CLASS="Body">
<A NAME="pgfId-434766"></A>In addition, the functionality of a user menu is implemented, but it is currently not customizable. It appears (as a popup) when right-clicking somewhere in the graphics-window.</P>
</DIV>
<HR>
<DIV CLASS="footnotes">
<DIV CLASS="footnote">
<P CLASS="Footnote">
<SPAN CLASS="footnoteNumber">
1.</SPAN>
<A NAME="pgfId-428315"></A>In the current version the modification mapping of input is not supported, but this should change in a future version, so that the input is fully customizable.</P>
</DIV>
<DIV CLASS="footnote">
<P CLASS="Footnote">
<SPAN CLASS="footnoteNumber">
2.</SPAN>
<A NAME="pgfId-428328"></A>Clicking in this context means pressing and releasing the button within 200 milliseconds</P>
</DIV>
<DIV CLASS="footnote">
<P CLASS="Footnote">
<SPAN CLASS="footnoteNumber">
3.</SPAN>
<A NAME="pgfId-430922"></A>The spaceball is called Magellan(TM), is sold by Logitech(TM), and such a device was kindly lend to the author for implementing the spaceball code into the linux version of DINO by logicad3d(TM) (<TT CLASS="Code">
<A HREF="http://www.logicad3d.com">http://www.logicad3d.com</A></TT>
).</P>
</DIV>
<DIV CLASS="footnote">
<P CLASS="Footnote">
<SPAN CLASS="footnoteNumber">
4.</SPAN>
<A NAME="pgfId-430876"></A>Merrit &amp; Bacon (1997) Meth. Enzymol. 277<BR>
<A HREF="http://www.bmsc.washington.edu/raster3d">http://www.bmsc.washington.edu/raster3d</A></P>
</DIV>
<DIV CLASS="footnote">
<P CLASS="Footnote">
<SPAN CLASS="footnoteNumber">
5.</SPAN>
<A NAME="pgfId-430858"></A>From OpenGL Programming Guide 3rd Ed. Scene Antialiasing p. 451</P>
</DIV>
<DIV CLASS="footnote">
<P CLASS="Footnote">
<SPAN CLASS="footnoteNumber">
6.</SPAN>
<A NAME="pgfId-428888"></A>Currently only SGI hardware stereo is supported in DINO</P>
</DIV>
<DIV CLASS="footnote">
<P CLASS="Footnote">
<SPAN CLASS="footnoteNumber">
7.</SPAN>
<A NAME="pgfId-428929"></A>The rotation matrix is not verified (-&gt; determinant==1) ! Expect weird things when using arbitrary values</P>
</DIV>
<DIV CLASS="footnote">
<P CLASS="Footnote">
<SPAN CLASS="footnoteNumber">
8.</SPAN>
<A NAME="pgfId-428954"></A>transmat={0,0,-100}, rotmat=identity ({{1,0,0},{0,1,0},{0,0,1}}), near=1.0, far=1000.0</P>
</DIV>
</DIV>
</BODY>
</HTML>
